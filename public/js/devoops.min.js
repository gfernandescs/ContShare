"use strict";function LoadAjaxContent(e){$(".preloader").show(),$.ajax({mimeType:"text/html; charset=utf-8",url:e,type:"GET",success:function(e){$("#ajax-content").html(e),$(".preloader").hide()},error:function(e,n,a){alert(a)},dataType:"html"})}$(document).ready(function(){$(".show-sidebar").on("click",function(e){e.preventDefault(),$("div#main").toggleClass("sidebar-show")});var e=location.hash.replace(/^#/,"");e.length<1&&(e="contents.php"),LoadAjaxContent(e),$(".main-menu").on("click","a",function(e){var n=$(this).parents("li"),a=$(this).closest("li.dropdown"),t=$(".main-menu li").not(n);if(t.find("a").removeClass("active"),t.find("a").removeClass("active-parent"),$(this).hasClass("dropdown-toggle")||0==$(this).closest("li").find("ul").length){$(this).addClass("active-parent");var s=$(this).next();s.is(":visible")?(a.find("ul.dropdown-menu").slideUp("fast"),a.find("ul.dropdown-menu a").removeClass("active")):(t.find("ul.dropdown-menu").slideUp("fast"),s.slideDown("fast"))}else if(a.find("a.dropdown-toggle").hasClass("active-parent")){var o=$(this).closest("ul.dropdown-menu");o.find("li.dropdown").not($(this).closest("li")).find("ul.dropdown-menu").slideUp("fast")}if(0==$(this).hasClass("active")&&($(this).parents("ul.dropdown-menu").find("a").removeClass("active"),$(this).addClass("active")),$(this).hasClass("ajax-link")){e.preventDefault(),$(this).hasClass("add-full")?$("#content").addClass("full-content"):$("#content").removeClass("full-content");var l=$(this).attr("href");window.location.hash=l,LoadAjaxContent(l)}"#"==$(this).attr("href")&&e.preventDefault()});var n=window.innerHeight-49;$("#main").css("min-height",n).on("click",".expand-link",function(e){var n=$("body");e.preventDefault();var a=$(this).closest("div.box"),t=$(this).find("i");t.toggleClass("fa-expand").toggleClass("fa-compress"),a.toggleClass("expanded"),n.toggleClass("body-expanded");var s=0;n.hasClass("body-expanded")&&(s=100),setTimeout(function(){a.toggleClass("expanded-padding")},s),setTimeout(function(){a.resize(),a.find("[id^=map-]").resize()},s+50)}).on("click",".collapse-link",function(e){e.preventDefault();var n=$(this).closest("div.box"),a=$(this).find("i"),t=n.find("div.box-content");t.slideToggle("fast"),a.toggleClass("fa-chevron-up").toggleClass("fa-chevron-down"),setTimeout(function(){n.resize(),n.find("[id^=map-]").resize()},50)}).on("click",".close-link",function(e){e.preventDefault();var n=$(this).closest("div.box");n.remove()}),$("#locked-screen").on("click",function(e){e.preventDefault(),$("body").addClass("body-screensaver"),$("#screensaver").addClass("show"),ScreenSaver()}),$("body").on("click","a.close-link",function(e){e.preventDefault(),CloseModalBox()}),$("#top-panel").on("click","a",function(e){if($(this).hasClass("ajax-link")){e.preventDefault(),$(this).hasClass("add-full")?$("#content").addClass("full-content"):$("#content").removeClass("full-content");var n=$(this).attr("href");window.location.hash=n,LoadAjaxContent(n)}}),$("#search").on("keydown",function(n){13==n.keyCode&&(n.preventDefault(),$("#content").removeClass("full-content"),e="ajax/page_search.html",window.location.hash=e,LoadAjaxContent(e))}),$("#screen_unlock").on("mouseover",function(){var e="Enter current username and password",n=$('<div class="form-group"><label class="control-label">Username</label><input type="text" class="form-control" name="username" /></div><div class="form-group"><label class="control-label">Password</label><input type="password" class="form-control" name="password" /></div>'),a=$('<div class="text-center"><a href="index.html" class="btn btn-primary">Unlock</a></div>');OpenModalBox(e,n,a)})});